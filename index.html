<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>üïØÔ∏è –¢–∞–π–Ω—ã–π –®–∏—Ñ—Ä–∞—Ç–æ—Ä —Å –ú–æ–¥–∞–ª–∫–æ–π –í—Ö–æ–¥–∞</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Courier New', monospace;
      background: #fef9c3;
      margin: 0;
      height: 100vh;
      overflow: hidden;
    }
    #app {
      display: none;
    }
    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –∑–∞—Ç–µ–º–Ω–µ–Ω–∏–µ */
    #modalOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0, 0, 0, 0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
    }
    #modalBox {
      background: #fff9d1;
      padding: 2rem;
      border-radius: 1.5rem;
      box-shadow: 0 0 20px #d6b800;
      width: 320px;
      max-width: 90vw;
      text-align: center;
    }
    #modalBox input {
      width: 100%;
      padding: 0.7rem 1rem;
      margin-bottom: 1rem;
      border-radius: 0.75rem;
      border: 2px solid #d6b800;
      font-size: 1rem;
    }
    #modalBox button {
      background: #b58900;
      color: white;
      font-weight: bold;
      padding: 0.7rem 1.5rem;
      border: none;
      border-radius: 1rem;
      font-size: 1.1rem;
      cursor: pointer;
      transition: background-color 0.3s;
      width: 100%;
    }
    #modalBox button:hover {
      background: #a27500;
    }
    #modalError {
      color: #b00000;
      font-weight: 600;
      margin-bottom: 1rem;
      display: none;
    }
    /* –ö–Ω–æ–ø–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã */
    button[disabled] {
      opacity: 0.5;
      cursor: not-allowed;
    }
    .typewriter-output {
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ -->
  <div id="modalOverlay">
    <div id="modalBox" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <h2 id="modalTitle" style="font-size:1.8rem; margin-bottom:1rem; color:#b58900;">üîí –í—Ö–æ–¥ –≤ –¢–∞–π–Ω—É—é –ó–æ–Ω—É</h2>
      <input id="modalUsername" type="text" placeholder="–ò–º—è..." autocomplete="off" />
      <input id="modalPassword" type="password" placeholder="–ü–∞—Ä–æ–ª—å..." autocomplete="off" />
      <div id="modalError">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å!</div>
      <button id="modalLoginBtn">–í–æ–π—Ç–∏</button>
    </div>
  </div>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ -->
  <div id="app" class="p-6 max-w-3xl mx-auto mt-8">
    <h1 class="text-3xl text-center mb-6 text-purple-800 font-bold">ü™Ñ –®–∏—Ñ—Ä–∞—Ç–æ—Ä</h1>
    <textarea id="inputText" rows="4" class="w-full p-3 border border-yellow-400 rounded-xl mb-4" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..."></textarea>
    <div class="flex justify-center gap-4 mb-6">
      <button id="btnEncode" onclick="encode()" disabled class="bg-yellow-300 text-white px-6 py-2 rounded-full cursor-not-allowed" title="–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ!">‚úçÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å</button>
      <button id="btnDecode" onclick="decode()" disabled class="bg-green-300 text-white px-6 py-2 rounded-full cursor-not-allowed" title="–°–Ω–∞—á–∞–ª–∞ –≤–æ–π–¥–∏—Ç–µ!">üìñ –ü—Ä–æ—á–∏—Ç–∞—Ç—å</button>
    </div>
    <div id="outputText" class="typewriter-output text-lg text-purple-900 min-h-[4rem]"></div>
  </div>

  <script>
    // –ö–∞—Ä—Ç—ã –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å "–º–∞–≥–∏—á–µ—Å–∫–æ–π" –æ–±—Ñ—É—Å–∫–∞—Ü–∏–µ–π
    function reveal(encoded) {
      const map = {
        '‚àÜ':'A','¬•':'B','‚Ç°':'C','√û':'D','Œ£':'E','‚Ç£':'F','«§':'G','·∏®':'H','≈Ç':'I','ƒ¥':'J',
        '“†':'K','‚±†':'L','‚Ç•':'M','‚Ç¶':'N','√ò':'O','‚Ç±':'P','«™':'Q','≈ñ':'R','‚Ç¥':'S','‚ÇÆ':'T',
        '∆±':'U','·πº':'V','≈¥':'W','”æ':'X','…é':'Y','»§':'Z','~':'=','*':'+','_':'/'
      };
      let restored = encoded.split('').map(c => Object.entries(map).find(([k]) => k === c)?.[1] || c).join('');
      return JSON.parse(atob(restored));
    }

    function revealStr(encoded) {
      const map = {
        '‚àÜ':'A','¬•':'B','‚Ç°':'C','√û':'D','Œ£':'E','‚Ç£':'F','«§':'G','·∏®':'H','≈Ç':'I','ƒ¥':'J',
        '“†':'K','‚±†':'L','‚Ç•':'M','‚Ç¶':'N','√ò':'O','‚Ç±':'P','«™':'Q','≈ñ':'R','‚Ç¥':'S','‚ÇÆ':'T',
        '∆±':'U','·πº':'V','≈¥':'W','”æ':'X','…é':'Y','»§':'Z','~':'=','*':'+','_':'/'
      };
      let restored = encoded.split('').map(c => Object.entries(map).find(([k]) => k === c)?.[1] || c).join('');
      return atob(restored);
    }

    // –ó–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ª–æ–≥–∏–Ω, –ø–∞—Ä–æ–ª—å, –∞–ª—Ñ–∞–≤–∏—Ç)
    const encLogin = "R_…é_¬•‚Ç£‚Ç£‚Ç¥";
    const encPass = "‚Ç•√ò≈ñ√ò«§‚Ç•…é‚Ç§√ò_‚Ç±Œ£≈ñ“†≈Ç‚Ç°√ò_‚Ç¶∆±‚Ç¥‚ÇÆ√ò_‚Ç•‚Ç£_‚Ç°≈Ç‚àÜ≈Ç_‚Ç§≈Ç‚Ç¶√ò‚Ç•‚Ç§…é";

    const mapEncodeEncrypted = "eyLihpIgOiLihpEiLCLihpMiOiLihpgiLCLihpkiOiLQkIiwi0YHQtdC70LjQutCwIjoi0YHQsNC50YIiLCLihpYiOiLihp4iLCLihpkiOiLQmSIsIuKGkSI6IuKGkCIiLCLihpYiOiLihpYiLCLihpQiOiLihpMiLCLihpwiOiLQmCIiLCLihp8iOiLQsiIsIuKGkCI6IuKGkSIiLCLihpYiOiLihpAiLCLihp0iOiLQqCIiLCLihqAiOiLQkiIsIuKGlyI6ItChIiwi4oaXIjoi0KYiLCLihqUiOiLQnCIiLCLihqAiOiLQpCIiLCLihqgiOiLQriIsIuKGqiI6ItChIiwi4oarySI6ItCfIiwi4oaqiiI6ItChIiwi4oaPIjoi0JYiLCLihqwiOiLQvCIiLCLihqYiOiLQsiIsIuKGrSI6ItCQIiwi4oatlCI6ItCUIiwi4oa4Ijoi0JMiLCLihqYiOiLQqCIiLCLihqIiOiLQsiIsIuKGrCI6ItCgIiwi4oaylSI6ItCUIn0=";
    const mapDecodeEncrypted = "eyLihpAiOiLihpIiLCLihpMiOiLihpEiLCJCSiI6IuKGkiIsIuKGkyI6IuKGkSIiLCJtIjoi0KYiLCJqIjoi0LQiLCJhIjoi0LkiLCLihp4iOiLihpkiLCJyIjoi0LciLCJzaCI6IuKGkyIsImoiOiLihpYiLCJmIjoi0LMiLCJjIjoi0LwiLCJ0Ijoi0LciLCJpIjoi0LoiLCLihpAiOiLihpgiLCJwIjoi0LQiLCJ4Ijoi0LgiLCJjaCI6ItCIIiwiZyI6ItCUIiwiayI6ItCjIiwiSCI6ItCWIiwicSI6ItCyIiwiZCI6ItCEIiwi0LIiOiLQqSIiLCJ1Ijoi0JkiLCLQpyI6ItCxIn0=";

    let mapEncode = null;
    let mapDecode = null;

    // –≠–ª–µ–º–µ–Ω—Ç—ã –∫–Ω–æ–ø–æ–∫ –∏ –≤—ã–≤–æ–¥–∞
    const btnEncode = document.getElementById('btnEncode');
    const btnDecode = document.getElementById('btnDecode');
    const outputText = document.getElementById('outputText');

    // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–∞
    function checkAccess() {
      const user = document.getElementById('modalUsername').value.trim();
      const pass = document.getElementById('modalPassword').value.trim();
      const errorElem = document.getElementById('modalError');

      if (user === revealStr(encLogin) && pass === revealStr(encPass)) {
        errorElem.style.display = 'none';
        document.getElementById('modalOverlay').style.display = 'none';
        document.getElementById('app').style.display = 'block';
        mapEncode = reveal(mapEncodeEncrypted);
        mapDecode = reveal(mapDecodeEncrypted);

        btnEncode.disabled = false;
        btnDecode.disabled = false;

        btnEncode.classList.remove('bg-yellow-300', 'cursor-not-allowed');
        btnEncode.classList.add('bg-yellow-500', 'cursor-pointer');

        btnDecode.classList.remove('bg-green-300', 'cursor-not-allowed');
        btnDecode.classList.add('bg-green-500', 'cursor-pointer');
      } else {
        errorElem.style.display = 'block';
      }
    }

    // –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–æ –∫–∞—Ä—Ç–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ–∫
    function transform(text, map) {
      return [...text].map(char => {
        const lower = char.toLowerCase();
        const mapped = map[lower] || char;
        return char === lower ? mapped : mapped.toUpperCase();
      }).join('');
    }

    // –≠—Ñ—Ñ–µ–∫—Ç –ø–µ—á–∞—Ç–∏
    function typeText(element, text, delay = 30) {
      element.textContent = '';
      let i = 0;
      (function type() {
        if (i < text.length) {
          element.textContent += text[i++];
          setTimeout(type, delay);
        }
      })();
    }

    function encode() {
      const input = document.getElementById('inputText').value;
      const output = transform(input, mapEncode);
      typeText(outputText, output);
    }

    function decode() {
      const input = document.getElementById('inputText').value;
      const output = transform(input, mapDecode);
      typeText(outputText, output);
    }

    // –ù–∞–≤–µ—à–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–æ–¥–∞–ª–∫–∏
    document.getElementById('modalLoginBtn').addEventListener('click', checkAccess);

    // –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –≤–æ–π—Ç–∏ –Ω–∞–∂–∞—Ç–∏–µ–º Enter –≤ –º–æ–¥–∞–ª–∫–µ
    document.getElementById('modalPassword').addEventListener('keydown', e => {
      if (e.key === 'Enter') checkAccess();
    });
  </script>
</body>
</html>
