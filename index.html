<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>üîÆ –ú–∞–≥–∏—á–µ—Å–∫–∏–π –®–∏—Ñ—Ä–∞—Ç–æ—Ä</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=IM+Fell+English+SC&display=swap');

    body {
      background-image: url('https://www.transparenttextures.com/patterns/aged-paper.png');
      font-family: 'IM Fell English SC', serif;
    }

    .glow {
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.5);
    }

    .button-glow {
      box-shadow: 0 0 15px rgba(153, 102, 255, 0.7);
      transition: all 0.3s ease-in-out;
    }

    .button-glow:hover {
      box-shadow: 0 0 25px rgba(153, 102, 255, 1);
      transform: scale(1.05);
    }

    .fade-in {
      animation: fadeIn 1s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .typewriter-output {
      white-space: pre-wrap;
      font-weight: bold;
      color: #5b21b6;
    }
  </style>
</head>
<body class="min-h-screen bg-yellow-100 flex items-center justify-center p-6">
  <div class="bg-white/70 border border-yellow-400 rounded-3xl p-8 max-w-3xl w-full shadow-xl fade-in">
    <h1 class="text-4xl text-center text-purple-700 mb-6 glow">üïØÔ∏è –®–∏—Ñ—Ä–∞—Ç–æ—Ä –î—Ä–µ–≤–Ω–µ–≥–æ –ü–∏—Å—å–º–∞</h1>

    <label class="text-lg text-gray-700">–í–≤–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ:</label>
    <textarea id="inputText" rows="4" placeholder="–ü–∏—à–∏ –∑–¥–µ—Å—å..." class="w-full p-4 mt-2 mb-4 bg-white border border-yellow-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 text-lg shadow-inner"></textarea>

    <div class="flex justify-center gap-6 mb-6">
      <button onclick="encode()" class="bg-purple-600 text-white px-6 py-2 rounded-full font-bold button-glow">
        ‚úçÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å (–ó–∞—à–∏—Ñ—Ä–æ–≤–∞—Ç—å)
      </button>
      <button onclick="decode()" class="bg-indigo-600 text-white px-6 py-2 rounded-full font-bold button-glow">
        üìñ –ü—Ä–æ—á–∏—Ç–∞—Ç—å (–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å)
      </button>
    </div>

    <label class="text-lg text-gray-700">–†–µ–∑—É–ª—å—Ç–∞—Ç:</label>
    <div id="outputText" class="w-full min-h-[7rem] bg-purple-50 border border-purple-200 rounded-xl p-4 text-lg typewriter-output shadow-inner"></div>
  </div>

  <script>
    const mapEncode = {
      '–∞': '–æ', '–±': '–∑', '–≤': '—ã', '–≥': '–ë', '–¥': '—è', '–µ': '–º',
      '–∂': '–π', '–∑': '–∞', '—ã': '—å', '–∏': '—Ä', '–π': '—à', '–∫': '–∂',
      '–ª': '—Ñ', '–º': '—Ü', '–Ω': '—Ç', '–æ': '–∏', '–ø': '—ç', '—Ä': '–ø',
      '—Å': '—Ö', '—Ç': '—á', '—É': '–≥', '—Ñ': '–∫', '—Ö': '–ª', '—Ü': '—Å',
      '—á': '–¥', '—à': '–≤', '—â': '—É', '—å': '—â', '—é': '–Ω', '—è': '—é'
    };

    const mapDecode = {
      '–æ': '–∞', '–∑': '–±', '—ã': '–≤', '–ë': '–≥', '—è': '–¥', '–º': '–µ',
      '–π': '–∂', '–∞': '–∑', '—å': '—ã', '—Ä': '–∏', '—à': '–π', '–∂': '–∫',
      '—Ñ': '–ª', '—Ü': '–º', '—Ç': '–Ω', '–∏': '–æ', '—ç': '–ø', '–ø': '—Ä',
      '—Ö': '—Å', '—á': '—Ç', '–≥': '—É', '–∫': '—Ñ', '–ª': '—Ö', '—Å': '—Ü',
      '–¥': '—á', '–≤': '—à', '—É': '—â', '—â': '—å', '–Ω': '—é', '—é': '—è'
    };

    function transform(text, map) {
      let result = '';
      for (let char of text) {
        const lowerChar = char.toLowerCase();
        const mapped = map[lowerChar] ?? char;
        result += (char === lowerChar) ? mapped : mapped.toUpperCase();
      }
      return result;
    }

    function typeText(element, text, delay = 30) {
      element.textContent = '';
      let i = 0;
      function type() {
        if (i < text.length) {
          element.textContent += text[i];
          i++;
          setTimeout(type, delay);
        }
      }
      type();
    }

    function encode() {
      const input = document.getElementById('inputText').value;
      const output = transform(input, mapEncode);
      const outputEl = document.getElementById('outputText');
      typeText(outputEl, output);
    }

    function decode() {
      const input = document.getElementById('inputText').value;
      const output = transform(input, mapDecode);
      const outputEl = document.getElementById('outputText');
      typeText(outputEl, output);
    }
  </script>
</body>
</html>
